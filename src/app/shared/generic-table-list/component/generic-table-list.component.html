<div class="m2-table-list__container">

    <ng-container *ngIf="tableListConfig.mode == 'table'">
        <ng-container *ngTemplateOutlet="table" ; context:{config: tableListConfig}></ng-container>
    </ng-container>

    <ng-container *ngIf="tableListConfig.mode == 'card-list'">
        <ng-container *ngTemplateOutlet="cardList" ; context:{config: tableListConfig}></ng-container>
    </ng-container>

</div>

<ng-template #table let-config="tableListConfig">
    <m2b-generic-table [config]="tableListConfig"></m2b-generic-table>
</ng-template>

<ng-template #cardList let-config="tableListConfig">
    <ng-container *ngFor="let elem of tableListConfig.items">
        <mat-card>
            <mat-card-header>
                <mat-card-title>{{elem.title}}</mat-card-title>
                <mat-card-subtitle>{{elem.author}}</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-image src="{{elem.image_url}}">
            <mat-card-content>
                <p>{{elem.description}}</p>
            </mat-card-content>
        </mat-card>
    </ng-container>
    
    <p>{{config}}</p>
</ng-template>